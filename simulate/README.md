# 입찰가격 사정률 분포 분석 및 시뮬레이션

입찰 사정률의 분포를 시뮬레이션하고 분석하기 위한 도구 모음입니다. 이 프로젝트는 효율적인 데이터 처리와 구간 확률 계산을 위한 이진 탐색 기반 알고리즘을 제공합니다.

## 주요 기능

1. **사정률 분포 시뮬레이션**
   - 예가범위 2% 또는 3% 기준 시뮬레이션 지원
   - 대규모 데이터셋(2^24 = 16,777,216개) 생성 및 관리
   - 시뮬레이션 결과 파일 저장 및 로드

2. **효율적인 구간 확률 계산**
   - 이진 탐색(O(log n)) 알고리즘 기반 빠른 조회
   - 사용자 지정 구간의 확률 계산
   - 특정 확률에 해당하는 구간 역산 기능

3. **통계 분석 도구**
   - 기본 통계량 계산 (평균, 중앙값, 표준편차 등)
   - 백분위수 조회 및 계산
   - 분포 비교 및 검정

## 모듈 구성

- `simulate_output.py`: 기본 시뮬레이션 엔진 및 데이터 처리
- `advanced_lookups.py`: 고급 조회 및 분석을 위한 클래스 구현
- `analysis_utils.py`: 통계 분석 유틸리티 함수
- `run_simulation.py`: 명령줄 인터페이스 및 실행 스크립트

## 사용 방법

### 기본 시뮬레이션 실행

```bash
python run_simulation.py --range 3 --n 16777216 --mode basic
```

### 고급 모드로 실행 및 대화형 조회

```bash
python run_simulation.py --range 3 --query
```

### 시뮬레이션 강제 재실행

```bash
python run_simulation.py --range 3 --force
```

## 대화형 조회 명령어

고급 모드에서 대화형 조회 시 다음 명령어를 사용할 수 있습니다:

1. **구간 확률 조회**: 두 값을 입력하여 해당 구간의 확률 조회
   ```
   -1 1
   ```

2. **백분위수 값 조회**: 'p' 접두사와 백분위수 입력
   ```
   p 50
   ```

3. **값의 백분위수 조회**: 'v' 접두사와 값 입력
   ```
   v 0.5
   ```

4. **확률에 해당하는 구간 찾기**: 'r' 접두사와 확률 입력
   ```
   r 0.9
   ```

5. **종료**: 'q' 입력

## 예시 결과

```
구간 [-1.0, 1.0] 확률: 0.683749 (조회 시간: 0.998ms)
구간 [-2.0, 2.0] 확률: 0.954498 (조회 시간: 0.997ms)
구간 [-3.0, 3.0] 확률: 0.997346 (조회 시간: 0.996ms)
```

## 기술적 구현

- NumPy 및 SciPy 기반 통계 계산
- Pickle을 이용한 데이터 직렬화 및 저장
- 이진 탐색(bisect) 알고리즘 활용
- 객체지향 설계를 통한 효율적인 데이터 관리

## 내부 구현 참고사항

내부적으로 시뮬레이션 함수에서는 Python의 내장 함수인 `range`와의 충돌을 피하기 위해 `price_range` 매개변수를 사용합니다. 명령줄에서는 여전히 `--range` 인자를 사용합니다. 